// refactor some code and fix a bug
